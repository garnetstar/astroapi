#
# WARNING: it is CRITICAL that this file & directory are NOT accessible directly via a web browser!
# https://nette.org/security-warning
#
parameters:
	duration:
		accessToken: 3600
		refreshToken: 2592000


php:
	date.timezone: Europe/Prague


application:
	errorPresenter: RestError
	mapping:
		*: App\*Module\Presenters\*Presenter


session:
	expiration: 14 days


services:
	- App\Model\UserManager
	- App\Forms\FormFactory
	- App\Forms\SignFormFactory
	router: App\RouterFactory::createRouter

	- App\Model\Repository\UserRepository
	- App\Model\Repository\AccessTokenRepository
	- App\Model\Repository\RefreshTokenRepository

	- App\lib\ExpirationFactory

	keyGenerator:
		class: App\lib\KeyGenerator\OpenSSLGenerator
		arguments:
			- "sha256"

	OAuthFacade:
		class: App\Model\Facade\OAuthFacade
		arguments:
			- %duration.accessToken%
			- %duration.refreshToken%

restful:
    convention: 'snake_case'
    cacheDir: '%tempDir%/cache'
    jsonpKey: 'jsonp'
    prettyPrintKey: 'pretty'
    routes:
        generateAtStart: FALSE
        prefix: resources
        module: 'RestApi'
        autoGenerated: TRUE
        panel: TRUE
    mappers:
        myMapper:
            contentType: 'multipart/form-data'
            class:  \Drahak\Restful\Mapping\JsonMapper
    security:
        privateKey: 'my-secret-api-key'
        requestTimeKey: 'timestamp'
        requestTimeout: 300

